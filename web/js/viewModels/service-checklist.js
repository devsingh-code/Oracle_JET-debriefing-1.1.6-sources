"use strict";define(["knockout","utils/dom","ojs/ojarraydataprovider","ojs/ojlistview","ojs/ojbutton"],function(t,e,i){return function(){return this.mainSectionClass=t.observable(),new class{createId(t,e){var i=[];return i.assetDetailsId="assetMappingBtn_"+t+"_"+e,i.serviceCheckListId="nextButton_"+t+"_"+e,i.prevHistoryId="prevHistoryDiv_"+t+"_"+e,i}listallAssets(e){var s=1;this.allAssetData=[];const a=e.inventoryList;console;for(const[t,i]of Object.entries(a)){var n=null!=e.activity.masterActivityId?e.activity.masterActivityId:"";if("customer"==i.invpool&&i.inv_aid==e.activity.aid||"customer"==i.invpool&&i.inv_aid==n){var o=i.invid,r=i.osc_asset_id,l=(null!=i.inv_capacity&&i.inv_capacity.length>0&&i.inv_capacity,null!=i.model_name&&i.model_name.length>0?i.model_name:""),c=(null!=e.activity.activity_organization&&e.activity.activity_organization.length>0&&e.activity.activity_organization,null!=i.inv_floor&&i.inv_floor.length>0?i.inv_floor:"NA"),v=null!=i.inv_room&&i.inv_room.length>0?i.inv_room:"NA",h=null!=i.inv_block&&i.inv_block.length>0?i.inv_block:"NA",_=null!=i.inv_type&&i.inv_type.length>0?i.inv_type:"",u=(null!=i.inv_visitNumber&&i.inv_visitNumber.length>0&&i.inv_visitNumber,null!=i.inv_number&&i.inv_number.length>0?i.inv_number:"NA"),d=null!=i.invsn&&i.invsn.length>0?i.invsn:"",y=null!=i.issue_type&&i.issue_type.length>0?i.issue_type:"NA",m=null!=i.inv_service_type&&i.inv_service_type.length>0?i.inv_service_type:"NA",p=null!=i.asset_remarks&&i.asset_remarks.length>0?i.asset_remarks:"NA",g=null!=i.warranty&&i.warranty.length>0?i.warranty:"NA";g="yes"==g?"Active":"Expired",1!=i.asset_verified?1!=i.service_checklist_completed&&(this.assetClass="demo-centering-box-red"):1!=i.service_checklist_completed?this.assetClass="demo-centering-box-yellow":this.assetClass="demo-centering-box-green";var b=this.createId(o,r);0==this.allAssetData.length?this.allAssetData=[{model:l,serialNo:d,wStatus:g,block:h,floor:c,room:v,machineNo:u,assetType:_,issueType:y,serviceType:m,remarks:p,count:s,assetMappingButtonId:b[0],serviceCheckListButtonId:b[1],serviceCheckListHistoryId:b[2]}]:this.allAssetData.push({model:l,serialNo:d,wStatus:g,block:h,floor:c,room:v,machineNo:u,assetType:_,issueType:y,serviceType:m,remarks:p,count:s,assetMappingButtonId:b.assetDetailsId,serviceCheckListButtonId:b.serviceCheckListButtonId,serviceCheckListHistoryId:b.prevHistoryId}),s++}}"Preventive Maintenance"!=e.activity.aworktype&&(this.allAssetsDataProvider=t.observable(new i(this.allAssetData,{keyAttributes:"serialNo"})))}handleActivated(e){this._controller=e.valueAccessor().params.app,this.ofscData=this._controller.openData(),console.log(this.ofscData),this.count=t.observable(),this.listallAssets(this.ofscData),this.assetData=[{account:null!=this.ofscData.activity.activity_organization&&this.ofscData.activity.activity_organization.length>0?this.ofscData.activity.activity_organization:"",site:null!=this.ofscData.activity.caddress&&this.ofscData.activity.caddress.length>0?this.ofscData.activity.caddress:"",refno:null!=this.ofscData.activity.reference_number&&this.ofscData.activity.reference_number.length>0?this.ofscData.activity.reference_number:""}],this.assetDataProvider=t.observable(new i(this.assetData,{keyAttributes:"account"}))}handleAttached(t){console.log("View is inserted"),console.log(t.element.innerHTML),this._dom=t.element.innerHTML,this._doc=document.getElementById("mainSectionPanel")}dismiss(){this._controller.router.go("dashboard",{historyUpdate:"replace"})}}}});