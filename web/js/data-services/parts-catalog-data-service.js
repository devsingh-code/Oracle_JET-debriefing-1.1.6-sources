define(["ofsc-connector","../models/part-model","../models/catalog-model"],(e,t,r)=>{"use strict";return class{constructor(t){if(!(t&&t instanceof e))throw new TypeError("ofscConnector must be an OfscConnector instance");this._connector=t}searchParts(e,r,a=!1){let s={query:e};return r&&(s.limit=r),a&&(s.cacheOnly=!0),new Promise((e,r)=>{this._connector.sendMessage({method:"callProcedure",callId:this._connector.constructor.generateCallId(),procedure:"searchParts",params:s}).then(r=>{let a=r.resultData.items.map(e=>new t(e));e({items:a,isContinueAvailable:r.resultData.isContinueAvailable,searchId:r.resultData.searchId})}).catch(r)})}searchPartsContinue(e){let r={searchId:e};return new Promise((e,a)=>{this._connector.sendMessage({method:"callProcedure",callId:this._connector.constructor.generateCallId(),procedure:"searchPartsContinue",params:r}).then(r=>{e({items:r.resultData.items.map(e=>new t(e)),isContinueAvailable:r.resultData.isContinueAvailable,searchId:r.resultData.searchId})}).catch(a)})}getParts(e,r=!1){let a={items:e};return r&&(a.cacheOnly=!0),new Promise((e,r)=>{this._connector.sendMessage({method:"callProcedure",callId:this._connector.constructor.generateCallId(),procedure:"getParts",params:a}).then(r=>{let a=r.resultData.items.map(e=>new t(e));e(a)}).catch(r)})}getPartsCatalogsStructure(){return new Promise((e,t)=>{this._connector.sendMessage({method:"callProcedure",callId:this._connector.constructor.generateCallId(),procedure:"getPartsCatalogsStructure"}).then(t=>{let a=t.resultData.map(e=>new r(e));e(a)}).catch(t)})}}});