define([],()=>{const r="~";return class{constructor(r,t,e,i){this.inventoryCollection=r,this.attributeDescription=t,this.searchableProperties=e,this.orderByProperty=i,this.normalizedInventoryList=this._normalizeInventoryForSearch(r)}_normalizeInventoryForSearch(t){let e=[],i=this.searchableProperties.reduce((r,t)=>{let e=this.attributeDescription[t];return e?(r.push({label:t,attributeDescription:e}),r):r},[]),o=i.length;return t.each(t=>{if(!t.has(this.orderByProperty))return;let n=[];for(let r=0;r<o;++r){let e=i[r],o=t.get(e.label);if("enum"===e.attributeDescription.type){let r=e.attributeDescription.enum;o=r&&r[o]&&r[o].text||""}null!==o&&void 0!==o&&(o=o.toString().toLowerCase().trim())&&n.push(o)}e.push({inventory:t,searchString:n.join(r),orderByProperty:t.get(this.orderByProperty).toString()})}),e.sort((r,t)=>r.orderByProperty.localeCompare(t.orderByProperty))}_normalizeSearchSubstring(t){if(null===t||void 0===t)return"";let e=t.toString(),i="";for(let t=0,o=e.length;t<o;++t)e[t]!==r&&(i+=e[t]);return i.toLowerCase().trim()}searchBySubstring(r){let t=this._normalizeSearchSubstring(r);return t?this.normalizedInventoryList.filter(r=>r.searchString.indexOf(t)>=0).map(r=>r.inventory):[]}}});